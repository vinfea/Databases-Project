<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Menu Page</title>
</head>
<body>
    <h2>Menu</h2>

    <!-- Your menu options here -->

    <h4>Welcome <span id="usernameDisplay"></span>! You are logged in as a <span id="roleDisplay"></span>.</h4>

    <ul>
        <li><a href="myProfile.html">My Profile</a></li>
        <li><a href="availableRooms.html">View 1: Available Rooms Per City</a></li>
        <li><a href="hotelCapacity.html">View 2: Room Capacity Per Hotel</a></li>
        <li id = "customerBookingsOption"><a href="findRooms.html">Find Rooms</a></li>
        <li id = "customerBookingsOption1"><a href="customerBookings.html">My Bookings</a></li>
        <li id="employeeBookingsOption"><a href="employeeBookings.html">See Customer Bookings</a></li>
        <li id="employeeBookingsOption1"><a href="currentCustomers.html">Current Customers</a></li>
        <li><a href=viewAllHotels.html>View All Hotels</a></li>
        <li id ="createHotelLink"><a href="createHotel.html">Create New Hotel</a></li>
        <li id="deleteHotelLink"><a href="deleteHotel.html">Delete Hotel</a></li>
        <li id="employeeBookingsOption2"><a href="employeeAvailableRooms.html">Customer Direct Booking</a></li>  
        <li><a href="#" id="logout">Logout</a></li>  

    </ul>

<script src="menu.js"></script>
<script>
    // Get the role display element
    const roleDisplay = document.getElementById('roleDisplay');
    const usernameDisplay = document.getElementById('usernameDisplay');

    // Check if the role and username are present
    if (!roleDisplay.textContent.trim() || !usernameDisplay.textContent.trim()) {
        // Redirect to login.html
        window.location.href = 'login.html';
    }

    // Function to hide menu options based on user role
    function hideMenuOptions() {
        const role = roleDisplay.textContent.trim().toLowerCase();

        if (role === 'customer') {
            // Hide employee-specific options
            const employeeBookingsOption = document.getElementById('employeeBookingsOption');
            if (employeeBookingsOption) {
                employeeBookingsOption.style.display = 'none';
            }

            const employeeBookingsOption1 = document.getElementById('employeeBookingsOption1');
            if (employeeBookingsOption1) {
                employeeBookingsOption1.style.display = 'none';
            }

            const employeeBookingsOption2 = document.getElementById('employeeBookingsOption2');
            if (employeeBookingsOption2) {
                employeeBookingsOption2.style.display = 'none';
            }

            const createHotelLink = document.getElementById('createHotelLink');
            if (createHotelLink) {
                createHotelLink.style.display = 'none';
            }

            const deleteHotelLink = document.getElementById('deleteHotelLink');
            if (deleteHotelLink) {
                deleteHotelLink.style.display = 'none';
            }
        } else if (role === 'employee') {
            // Hide customer-specific options
            const customerBookingsOption = document.getElementById('customerBookingsOption');
            if (customerBookingsOption) {
                customerBookingsOption.style.display = 'none';
            }

            const customerBookingsOption1 = document.getElementById('customerBookingsOption1');
            if (customerBookingsOption1) {
                customerBookingsOption1.style.display = 'none';
            }
        }
    }

    // Call hideMenuOptions function when DOM content is loaded
    document.addEventListener('DOMContentLoaded', hideMenuOptions);

    // Logout functionality
    const logoutLink = document.getElementById('logout');
    logoutLink.addEventListener('click', function() {
        localStorage.removeItem('username');
        localStorage.removeItem('password');
        // Redirect to login.html after logout
        window.location.href = 'login.html';
    });
</script>
</body>
</html>
