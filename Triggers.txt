-- Triggers -- 

-- Placeholder for syntax -- 

DELIMITER $$

CREATE 
TRIGGER test_trigger AFTER INSERT
ON hotel
FOR EACH ROW BEGIN
INSERT INTO hotel_phone VALUES(NEW.hotel_id, NEW.chain, 'New Phone!');
END$$

DELIMITER ;

DELIMITER $$

CREATE FUNCTION get_city_from_address(addr VARCHAR(50))
RETURNS VARCHAR(50)
DETERMINISTIC
BEGIN
    DECLARE city VARCHAR(50);
    SET city = SUBSTRING_INDEX(SUBSTRING_INDEX(addr, ',', -2), ',', 1);
    RETURN TRIM(city);
END$$

DELIMITER ;
